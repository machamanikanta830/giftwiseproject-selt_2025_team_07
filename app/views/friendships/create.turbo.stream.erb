<!-- app/views/friendships/create.turbo_stream.erb -->
<%= turbo_stream.remove "user_#{@friendship.friend_id}" %>

<%= turbo_stream.prepend "flash-messages" do %>
  <div class="fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-xl shadow-lg z-50 animate-fadeIn">
    <div class="flex items-center gap-3">
      <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <polyline points="20 6 9 17 4 12"></polyline>
      </svg>
      <span>Friend request sent to <%= @friendship.friend.name %></span>
    </div>
  </div>
<% end %>

<script>
    setTimeout(() => {
        const flash = document.querySelector('.animate-fadeIn');
        if (flash) {
            flash.style.transition = 'opacity 0.5s ease-out';
            flash.style.opacity = '0';
            setTimeout(() => flash.remove(), 500);
        }
    }, 3000);
</script>
