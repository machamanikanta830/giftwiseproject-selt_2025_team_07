<div class="min-h-screen bg-[#f5f5fb]">
  <header class="w-full bg-white shadow-sm">
    <div class="max-w-6xl mx-auto flex items-center justify-between px-6 py-4">
      <div class="flex items-center gap-2">
        <div class="w-9 h-9 rounded-2xl bg-[#f4e6ff] flex items-center justify-center">
          <svg xmlns="http://www.w3.org/2000/svg"
               viewBox="0 0 24 24"
               class="w-6 h-6 text-[#a855f7]"
               fill="none"
               stroke="currentColor"
               stroke-width="2"
               stroke-linecap="round"
               stroke-linejoin="round">
            <rect x="3" y="8" width="18" height="13" rx="2" ry="2"></rect>
            <path d="M12 8v13"></path>
            <path d="M3 12h18"></path>
            <path d="M12 8h4a2 2 0 0 0 0-4c-3 0-4 4-4 4z"></path>
            <path d="M12 8H8a2 2 0 0 1 0-4c3 0 4 4 4 4z"></path>
          </svg>
        </div>
        <span class="text-xl font-semibold tracking-tight">GiftWise</span>
      </div>

      <nav class="flex items-center gap-6 text-sm font-medium">
        <span class="text-gray-700">Welcome, <%= current_user.name %>!</span>
        <%= button_to "Log Out", logout_path, method: :delete,
                      class: "px-5 py-2 rounded-full bg-black text-white hover:bg-gray-900 transition" %>
      </nav>
    </div>
  </header>

  <div class="max-w-6xl mx-auto px-6 py-10">
    <h1 class="text-4xl font-semibold mb-4">Dashboard</h1>

    <% if notice.present? %>
      <div class="mb-4 rounded-xl bg-green-50 border border-green-200 px-4 py-2 text-sm text-green-800">
        <%= notice %>
      </div>
    <% end %>

    <div class="flex gap-10">
      <!-- SIDEBAR -->
      <aside class="w-64">
        <div class="bg-white rounded-3xl shadow-sm border border-gray-200 py-5 px-3 min-h-[220px]">
          <p class="px-3 pb-3 text-xs font-semibold text-gray-400 uppercase tracking-wide">
            Navigation
          </p>

          <nav class="space-y-1 text-sm font-medium">
            <% nav_items = [
              ["Events", "events"],
              ["Recipients", "recipients"],
              ["Profile", "profile"]
            ] %>

            <% nav_items.each do |label, key| %>
              <% active = (@tab == key) %>

              <%= link_to dashboard_path(tab: key) do %>
                <div class="flex items-center px-4 py-2.5 rounded-xl border-l-4 transition
                            <%= active ? 'border-purple-500 bg-purple-50 text-purple-700' : 'border-transparent text-gray-700 hover:bg-gray-50' %>">
                  <span><%= label %></span>
                </div>
              <% end %>
            <% end %>
          </nav>
        </div>
      </aside>

      <!-- MAIN CONTENT -->
      <section class="flex-1">
        <% if @tab == "events" %>
          <%= render "events_panel" %>
        <% elsif @tab == "recipients" %>
          <%= render "recipients_panel" %>
        <% elsif @tab == "profile" %>
          <%= render "profile_panel" %>
        <% else %>
          <%= render "events_panel" %>
        <% end %>
      </section>
    </div>
  </div>
</div>
